<div class="list-panel">
	<!--start-->
	<!--	<div class="list-box">
		<div class="list-defult-body box-h box-align">
			<div class="box-flex" data-dir="general" data-tkey="stuView" data-transition="slide" onclick="common.loadPage(this);">
				<span class="title-other">林晓婷</span>
				<span class="subtitle-make">90分</span>
			</div>
			<div class="checkbox-box">
				<label for="relEditcheckbox_0">
					<input id="relEditcheckbox_0" type="checkbox" name="voice" value="0"  />
					<span class="checkbox-btu"></span>
				</label>
			</div>
		</div>
	</div>-->
	<!--end-->

</div>
<script type="text/javascript">
	var relEditBatchNo, relEditBatchProvince, relEditBatchCity;

	function loadrelEdit(obj) {
		relEditBatchNo = $(obj).attr("data-batchNo");
		if($(obj).attr("data-batchProvince") != undefined) {
			relEditBatchProvince = $(obj).attr("data-batchProvince");
			relEditBatchCity = $(obj).attr("data-batchCity");
		}
		initrelEditChoose();
		relEditFooter();
		$('#relEdit label').on('click', function() {
			if($(this).find('input[type="checkbox"]').prop("checked")) {
				$(this).find('input[type="checkbox"]').removeAttr('checked');
			} else {
				$(this).find('input[type="checkbox"]').attr('checked', 'checked');
			}
		});
	}

	function relEditFooter() {
		var btuHtml = '';
		var jsondata = {};
		btuHtml += '<div class="footerBtu bg-color-brown" data-tkey="relMoney" data-dir="general" data-transition="slide" onclick="relEditFooterFunc(this)">';
		btuHtml += '<a class="all relEdit-save" href="javascript:void(0);">确认信息</a>';
		btuHtml += '</div>';
		jsondata.container = 'relEdit';
		jsondata.buttonHtml = btuHtml;
		common.commonFooterBtu(jsondata);
	}

	function relEditFooterFunc(obj) {
		common.loadPage($(obj));
	}

	function initrelEditChoose() {
		var relEditChooseId = [];
		ajaxFuncs.get({
			urlname: "/api/release/" + relEditBatchNo,
			funcs: {
				funcSuccessful: function(data) {
					var html = "";
					data = data.releaseList;
					if(data.length != 0) {
						for(var i = 0; i < data.length; i++) {
							relEditChooseId.push(data[i].studentId);
							html += '<div class="list-box">';
							html += '<div class="list-defult-body box-h box-align">';
							html += '<div class="box-flex" data-stuid="' + data[i].studentId + '" data-dir="general" data-tkey="stuView" data-transition="slide" onclick="common.loadPage(this);">';
							html += '<span class="title-other">' + data[i].studentName + '</span>';
							if(data[i].scores != 0) {
								html += '<span class="subtitle-make">' + data[i].scores + '分</span>';
							}
							html += '</div>';
							html += '<div class="checkbox-box">';
							html += '<label for="relEditcheckbox_' + data[i].studentId + '">';
							html += '<input id="relEditcheckbox_' + data[i].studentId + '" type="checkbox" name="relEdit"  checked="checked" />';
							html += '<span class="checkbox-btu"></span>';
							html += '</label>';
							html += '</div>';
							html += '</div>';
							html += '</div>';
						}
						$("#relEdit .list-panel").empty().append(html);
						//						initrelEditStuAll(relEditChooseId);
					} else {
						common.handleDefaultPage({
							type: 2
						});
					}
				}
			}
		})
	}

	function initrelEditStuAll(relEditChooseId) {
		ajaxFuncs.get({
			urlname: "/api/students?province=" + relEditBatchProvince + "&city=" + relEditBatchCity,
			funcs: {
				funcSuccessful: function(data) {
					data = data.studentLists;
					var html = "";
					if(data.length != 0) {
						for(var i = 0; i < data.length; i++) {
							var ischeck = false;
							for(var j = 0; j < relEditChooseId.length; j++) {
								if(data[i].id == relEditChooseId[j]) {
									ischeck = true;
								}
							}
							if(!ischeck) {
								html += '<div class="list-box">';
								html += '<div class="list-defult-body box-h box-align">';
								html += '<div class="box-flex" data-stuid="' + data[i].id + '" data-dir="general" data-tkey="stuView" data-transition="slide" onclick="common.loadPage(this);">';
								html += '<span class="title-other">' + data[i].name + '</span>';
								//							html+='<span class="subtitle-make">89分</span>';
								html += '</div>';
								html += '<div class="checkbox-box">';
								html += '<label for="relAddcheckbox_' + data[i].id + '">';
								html += '<input id="relAddcheckbox_' + data[i].id + '" data-stuid="' + data[i].id + '"  type="checkbox" name="stulist"  />';
								html += '<span class="checkbox-btu"></span>';
								html += '</label>';
								html += '</div>';
								html += '</div>';
								html += '</div>';
							}
						}
						$("#relAdd .list-panel").append(html);
					} else {
						common.handleDefaultPage({
							type: 2
						});
					}
				}
			}
		})
	}

	function relEditHtml() {

	}
</script>